<?xml version="1.0" encoding="utf-8"?>
<!--
Симуляция брахи источников согласно прооколу TG-43.
-->
<accelerator>
  <!--
  Группа вложенных объектов распознается следующим образом.
  В стандартную линейную цепочку встраивается только внешний объект.
  Остальные объекты привязываются как последовательность вложенных в него.
  Первым идет самый внутренний объект.
  Каждый следующий охватывает предыдущий.
  Координаты каждого модуля группы определяются относительно системы группы.
  -->
  <module type="embedding" name="Phantom">
    <position unit="cm" x="0" y="0" z="0" />
    <normal x="0" y="0" z="1" />
    <xaxis x="1" y="0" z="0" />

    <!--<module type="esphere" name="Source" medium="C60" density="1">-->
    <module type="esphere" name="Source" medium="C60" density="1">
      <Color r="1.0" g="0.5" b="0.5" t="0.5" />
      <position unit="cm" x="0" y="0" z="0" />
      <normal x="0" y="0" z="1" />
      <xaxis x="1" y="0" z="0" />
      <size unit="cm" radius="2.0"/>
    </module>

    <!--<module type="esphere" name="Shield" medium="W700ICRU" density="1">-->
    <module type="esphere" name="Shield" medium="W700ICRU" density="1">
      <Color r="0.5" g="0.5" b="1.0" t="0.5" />
      <position unit="cm" x="0" y="0" z="0" />
      <normal x="0" y="0" z="1" />
      <xaxis x="1" y="0" z="0" />
      <size unit="cm" radius="10.0"/>
    </module>

    <!--
    Скоринг вызывается после преобразования координат в систему объекта.
    Здесь применяется TRICK с позиционированием плоскости прерывания в центр 
    мировой системы координат, что эквивалентно отсутствию преобразований.
    Частицы, тем не менее, будут попадать в ловушку потому что они будут
    ей передаваться в силу встроенности в линейную цепочку транспорта 
    в обобщенном положительном направлении по отношении к последнему реальному объекту.
    -->
    <module type="etrap" name="Trap" medium="AIR700ICRU" density="1">
      <Color r="0" g="0.5" b="0.5" t="0.8" />
      <position unit="cm" x="0" y="0" z="0" />
      <normal x="0" y="0" z="1" />
      <xaxis x="1" y="0" z="0" />
    </module>
  </module>
</accelerator>
